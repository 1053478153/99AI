import{E as _,F as $,G as y,az as ue,D as L,a$ as K,r as w,k,L as ie,bq as Xe,s as Qe,O as q,aH as Me,g as B,M as Je,aw as ce,br as Ye,ac as Ee,S as j,X as I,P as et,a5 as ae,aI as Te,U as R,Z as N,R as O,Q as C,T as tt,aq as H,ap as De,K as $e,ao as nt,aa as Ce,H as Pe,w as U,_ as re,av as at,aC as rt,ab as lt,N as we,a6 as ot}from"./index-d574bfe0.js";import{N as st}from"./LayoutSider-7d501b29.js";function ut(e,t){let n;return(...l)=>{const o=()=>{clearTimeout(n),e(...l)};clearTimeout(n),n=setTimeout(o,t)}}function it(e,t){return _(),$("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}function ct(e,t){return _(),$("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})])}function dt(e,t){return _(),$("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}function ft(e,t){return _(),$("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}let pt=Symbol("headlessui.useid"),vt=0;function de(){return ue(pt,()=>`${++vt}`)()}function M(e){var t;if(e==null||e.value==null)return null;let n=(t=e.value.$el)!=null?t:e.value;return n instanceof Node?n:null}function z(e,t,...n){if(e in t){let o=t[e];return typeof o=="function"?o(...n):o}let l=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,z),l}var mt=Object.defineProperty,gt=(e,t,n)=>t in e?mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xe=(e,t,n)=>(gt(e,typeof t!="symbol"?t+"":t,n),n);let ht=class{constructor(){xe(this,"current",this.detect()),xe(this,"currentId",0)}set(t){this.current!==t&&(this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},fe=new ht;function pe(e){if(fe.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let t=M(e);if(t)return t.ownerDocument}return document}let le=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var oe=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(oe||{}),yt=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(yt||{}),bt=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(bt||{});function Ae(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(le)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var ve=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(ve||{});function me(e,t=0){var n;return e===((n=pe(e))==null?void 0:n.body)?!1:z(t,{0(){return e.matches(le)},1(){let l=e;for(;l!==null;){if(l.matches(le))return!0;l=l.parentElement}return!1}})}function Ne(e){let t=pe(e);L(()=>{t&&!me(t.activeElement,0)&&xt(e)})}var wt=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(wt||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function xt(e){e==null||e.focus({preventScroll:!0})}let kt=["textarea","input"].join(",");function St(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,kt))!=null?n:!1}function Oe(e,t=n=>n){return e.slice().sort((n,l)=>{let o=t(n),a=t(l);if(o===null||a===null)return 0;let r=o.compareDocumentPosition(a);return r&Node.DOCUMENT_POSITION_FOLLOWING?-1:r&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function _t(e,t){return It(Ae(),t,{relativeTo:e})}function It(e,t,{sorted:n=!0,relativeTo:l=null,skipElements:o=[]}={}){var a;let r=(a=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e==null?void 0:e.ownerDocument)!=null?a:document,u=Array.isArray(e)?n?Oe(e):e:Ae(e);o.length>0&&u.length>1&&(u=u.filter(i=>!o.includes(i))),l=l??r.activeElement;let m=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),p=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,u.indexOf(l))-1;if(t&4)return Math.max(0,u.indexOf(l))+1;if(t&8)return u.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),g=t&32?{preventScroll:!0}:{},v=0,s=u.length,f;do{if(v>=s||v+s<=0)return 0;let i=p+v;if(t&16)i=(i+s)%s;else{if(i<0)return 3;if(i>=s)return 1}f=u[i],f==null||f.focus(g),v+=m}while(f!==r.activeElement);return t&6&&St(f)&&f.select(),2}function Mt(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Et(){return/Android/gi.test(window.navigator.userAgent)}function Tt(){return Mt()||Et()}function V(e,t,n){fe.isServer||K(l=>{document.addEventListener(e,t,n),l(()=>document.removeEventListener(e,t,n))})}function Dt(e,t,n){fe.isServer||K(l=>{window.addEventListener(e,t,n),l(()=>window.removeEventListener(e,t,n))})}function $t(e,t,n=k(()=>!0)){function l(a,r){if(!n.value||a.defaultPrevented)return;let u=r(a);if(u===null||!u.getRootNode().contains(u))return;let m=function p(g){return typeof g=="function"?p(g()):Array.isArray(g)||g instanceof Set?g:[g]}(e);for(let p of m){if(p===null)continue;let g=p instanceof HTMLElement?p:M(p);if(g!=null&&g.contains(u)||a.composed&&a.composedPath().includes(g))return}return!me(u,ve.Loose)&&u.tabIndex!==-1&&a.preventDefault(),t(a,u)}let o=w(null);V("pointerdown",a=>{var r,u;n.value&&(o.value=((u=(r=a.composedPath)==null?void 0:r.call(a))==null?void 0:u[0])||a.target)},!0),V("mousedown",a=>{var r,u;n.value&&(o.value=((u=(r=a.composedPath)==null?void 0:r.call(a))==null?void 0:u[0])||a.target)},!0),V("click",a=>{Tt()||o.value&&(l(a,()=>o.value),o.value=null)},!0),V("touchend",a=>l(a,()=>a.target instanceof HTMLElement?a.target:null),!0),Dt("blur",a=>l(a,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function ke(e,t){if(e)return e;let n=t??"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function Ct(e,t){let n=w(ke(e.value.type,e.value.as));return ie(()=>{n.value=ke(e.value.type,e.value.as)}),K(()=>{var l;n.value||M(t)&&M(t)instanceof HTMLButtonElement&&!((l=M(t))!=null&&l.hasAttribute("type"))&&(n.value="button")}),n}function Se(e){return[e.screenX,e.screenY]}function Pt(){let e=w([-1,-1]);return{wasMoved(t){let n=Se(t);return e.value[0]===n[0]&&e.value[1]===n[1]?!1:(e.value=n,!0)},update(t){e.value=Se(t)}}}function At({container:e,accept:t,walk:n,enabled:l}){K(()=>{let o=e.value;if(!o||l!==void 0&&!l.value)return;let a=pe(e);if(!a)return;let r=Object.assign(m=>t(m),{acceptNode:t}),u=a.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,r,!1);for(;u.nextNode();)n(u.currentNode)})}var se=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(se||{}),Nt=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Nt||{});function Z({visible:e=!0,features:t=0,ourProps:n,theirProps:l,...o}){var a;let r=Fe(l,n),u=Object.assign(o,{props:r});if(e||t&2&&r.static)return te(u);if(t&1){let m=(a=r.unmount)==null||a?0:1;return z(m,{0(){return null},1(){return te({...o,props:{...r,hidden:!0,style:{display:"none"}}})}})}return te(u)}function te({props:e,attrs:t,slots:n,slot:l,name:o}){var a,r;let{as:u,...m}=Ot(e,["unmount","static"]),p=(a=n.default)==null?void 0:a.call(n,l),g={};if(l){let v=!1,s=[];for(let[f,i]of Object.entries(l))typeof i=="boolean"&&(v=!0),i===!0&&s.push(f);v&&(g["data-headlessui-state"]=s.join(" "))}if(u==="template"){if(p=Re(p??[]),Object.keys(m).length>0||Object.keys(t).length>0){let[v,...s]=p??[];if(!Rt(v)||s.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${o} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(m).concat(Object.keys(t)).map(c=>c.trim()).filter((c,h,b)=>b.indexOf(c)===h).sort((c,h)=>c.localeCompare(h)).map(c=>`  - ${c}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(c=>`  - ${c}`).join(`
`)].join(`
`));let f=Fe((r=v.props)!=null?r:{},m,g),i=Xe(v,f,!0);for(let c in f)c.startsWith("on")&&(i.props||(i.props={}),i.props[c]=f[c]);return i}return Array.isArray(p)&&p.length===1?p[0]:p}return Qe(u,Object.assign({},m,g),{default:()=>p})}function Re(e){return e.flatMap(t=>t.type===q?Re(t.children):[t])}function Fe(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let l of e)for(let o in l)o.startsWith("on")&&typeof l[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(l[o])):t[o]=l[o];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(l=>[l,void 0])));for(let l in n)Object.assign(t,{[l](o,...a){let r=n[l];for(let u of r){if(o instanceof Event&&o.defaultPrevented)return;u(o,...a)}}});return t}function Ot(e,t=[]){let n=Object.assign({},e);for(let l of t)l in n&&delete n[l];return n}function Rt(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}let Le=Symbol("Context");var G=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(G||{});function Ft(){return ue(Le,null)}function Lt(e){Me(Le,e)}var D=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(D||{});function jt(e){throw new Error("Unexpected object: "+e)}var P=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(P||{});function Bt(e,t){let n=t.resolveItems();if(n.length<=0)return null;let l=t.resolveActiveIndex(),o=l??-1;switch(e.focus){case 0:{for(let a=0;a<n.length;++a)if(!t.resolveDisabled(n[a],a,n))return a;return l}case 1:{o===-1&&(o=n.length);for(let a=o-1;a>=0;--a)if(!t.resolveDisabled(n[a],a,n))return a;return l}case 2:{for(let a=o+1;a<n.length;++a)if(!t.resolveDisabled(n[a],a,n))return a;return l}case 3:{for(let a=n.length-1;a>=0;--a)if(!t.resolveDisabled(n[a],a,n))return a;return l}case 4:{for(let a=0;a<n.length;++a)if(t.resolveId(n[a],a,n)===e.id)return a;return l}case 5:return null;default:jt(e)}}let _e=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Ie(e){var t,n;let l=(t=e.innerText)!=null?t:"",o=e.cloneNode(!0);if(!(o instanceof HTMLElement))return l;let a=!1;for(let u of o.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))u.remove(),a=!0;let r=a?(n=o.innerText)!=null?n:"":l;return _e.test(r)&&(r=r.replace(_e,"")),r}function Ut(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let l=n.split(" ").map(o=>{let a=document.getElementById(o);if(a){let r=a.getAttribute("aria-label");return typeof r=="string"?r.trim():Ie(a).trim()}return null}).filter(Boolean);if(l.length>0)return l.join(", ")}return Ie(e).trim()}function Gt(e){let t=w(""),n=w("");return()=>{let l=M(e);if(!l)return"";let o=l.innerText;if(t.value===o)return n.value;let a=Ut(l).trim().toLowerCase();return t.value=o,n.value=a,a}}var Kt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Kt||{}),Ht=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Ht||{});function Vt(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let je=Symbol("MenuContext");function X(e){let t=ue(je,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,X),n}return t}let Wt=B({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:t,attrs:n}){let l=w(1),o=w(null),a=w(null),r=w([]),u=w(""),m=w(null),p=w(1);function g(s=f=>f){let f=m.value!==null?r.value[m.value]:null,i=Oe(s(r.value.slice()),h=>M(h.dataRef.domRef)),c=f?i.indexOf(f):null;return c===-1&&(c=null),{items:i,activeItemIndex:c}}let v={menuState:l,buttonRef:o,itemsRef:a,items:r,searchQuery:u,activeItemIndex:m,activationTrigger:p,closeMenu:()=>{l.value=1,m.value=null},openMenu:()=>l.value=0,goToItem(s,f,i){let c=g(),h=Bt(s===P.Specific?{focus:P.Specific,id:f}:{focus:s},{resolveItems:()=>c.items,resolveActiveIndex:()=>c.activeItemIndex,resolveId:b=>b.id,resolveDisabled:b=>b.dataRef.disabled});u.value="",m.value=h,p.value=i??1,r.value=c.items},search(s){let f=u.value!==""?0:1;u.value+=s.toLowerCase();let i=(m.value!==null?r.value.slice(m.value+f).concat(r.value.slice(0,m.value+f)):r.value).find(h=>h.dataRef.textValue.startsWith(u.value)&&!h.dataRef.disabled),c=i?r.value.indexOf(i):-1;c===-1||c===m.value||(m.value=c,p.value=1)},clearSearch(){u.value=""},registerItem(s,f){let i=g(c=>[...c,{id:s,dataRef:f}]);r.value=i.items,m.value=i.activeItemIndex,p.value=1},unregisterItem(s){let f=g(i=>{let c=i.findIndex(h=>h.id===s);return c!==-1&&i.splice(c,1),i});r.value=f.items,m.value=f.activeItemIndex,p.value=1}};return $t([o,a],(s,f)=>{var i;v.closeMenu(),me(f,ve.Loose)||(s.preventDefault(),(i=M(o))==null||i.focus())},k(()=>l.value===0)),Me(je,v),Lt(k(()=>z(l.value,{0:G.Open,1:G.Closed}))),()=>{let s={open:l.value===0,close:v.closeMenu};return Z({ourProps:{},theirProps:e,slot:s,slots:t,attrs:n,name:"Menu"})}}}),qt=B({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:t,slots:n,expose:l}){var o;let a=(o=e.id)!=null?o:`headlessui-menu-button-${de()}`,r=X("MenuButton");l({el:r.buttonRef,$el:r.buttonRef});function u(v){switch(v.key){case D.Space:case D.Enter:case D.ArrowDown:v.preventDefault(),v.stopPropagation(),r.openMenu(),L(()=>{var s;(s=M(r.itemsRef))==null||s.focus({preventScroll:!0}),r.goToItem(P.First)});break;case D.ArrowUp:v.preventDefault(),v.stopPropagation(),r.openMenu(),L(()=>{var s;(s=M(r.itemsRef))==null||s.focus({preventScroll:!0}),r.goToItem(P.Last)});break}}function m(v){switch(v.key){case D.Space:v.preventDefault();break}}function p(v){e.disabled||(r.menuState.value===0?(r.closeMenu(),L(()=>{var s;return(s=M(r.buttonRef))==null?void 0:s.focus({preventScroll:!0})})):(v.preventDefault(),r.openMenu(),Vt(()=>{var s;return(s=M(r.itemsRef))==null?void 0:s.focus({preventScroll:!0})})))}let g=Ct(k(()=>({as:e.as,type:t.type})),r.buttonRef);return()=>{var v;let s={open:r.menuState.value===0},{...f}=e,i={ref:r.buttonRef,id:a,type:g.value,"aria-haspopup":"menu","aria-controls":(v=M(r.itemsRef))==null?void 0:v.id,"aria-expanded":r.menuState.value===0,onKeydown:u,onKeyup:m,onClick:p};return Z({ourProps:i,theirProps:f,slot:s,attrs:t,slots:n,name:"MenuButton"})}}}),zt=B({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:t,slots:n,expose:l}){var o;let a=(o=e.id)!=null?o:`headlessui-menu-items-${de()}`,r=X("MenuItems"),u=w(null);l({el:r.itemsRef,$el:r.itemsRef}),At({container:k(()=>M(r.itemsRef)),enabled:k(()=>r.menuState.value===0),accept(s){return s.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:s.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(s){s.setAttribute("role","none")}});function m(s){var f;switch(u.value&&clearTimeout(u.value),s.key){case D.Space:if(r.searchQuery.value!=="")return s.preventDefault(),s.stopPropagation(),r.search(s.key);case D.Enter:if(s.preventDefault(),s.stopPropagation(),r.activeItemIndex.value!==null){let i=r.items.value[r.activeItemIndex.value];(f=M(i.dataRef.domRef))==null||f.click()}r.closeMenu(),Ne(M(r.buttonRef));break;case D.ArrowDown:return s.preventDefault(),s.stopPropagation(),r.goToItem(P.Next);case D.ArrowUp:return s.preventDefault(),s.stopPropagation(),r.goToItem(P.Previous);case D.Home:case D.PageUp:return s.preventDefault(),s.stopPropagation(),r.goToItem(P.First);case D.End:case D.PageDown:return s.preventDefault(),s.stopPropagation(),r.goToItem(P.Last);case D.Escape:s.preventDefault(),s.stopPropagation(),r.closeMenu(),L(()=>{var i;return(i=M(r.buttonRef))==null?void 0:i.focus({preventScroll:!0})});break;case D.Tab:s.preventDefault(),s.stopPropagation(),r.closeMenu(),L(()=>_t(M(r.buttonRef),s.shiftKey?oe.Previous:oe.Next));break;default:s.key.length===1&&(r.search(s.key),u.value=setTimeout(()=>r.clearSearch(),350));break}}function p(s){switch(s.key){case D.Space:s.preventDefault();break}}let g=Ft(),v=k(()=>g!==null?(g.value&G.Open)===G.Open:r.menuState.value===0);return()=>{var s,f;let i={open:r.menuState.value===0},{...c}=e,h={"aria-activedescendant":r.activeItemIndex.value===null||(s=r.items.value[r.activeItemIndex.value])==null?void 0:s.id,"aria-labelledby":(f=M(r.buttonRef))==null?void 0:f.id,id:a,onKeydown:m,onKeyup:p,role:"menu",tabIndex:0,ref:r.itemsRef};return Z({ourProps:h,theirProps:c,slot:i,attrs:t,slots:n,features:se.RenderStrategy|se.Static,visible:v.value,name:"MenuItems"})}}}),ne=B({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:t,attrs:n,expose:l}){var o;let a=(o=e.id)!=null?o:`headlessui-menu-item-${de()}`,r=X("MenuItem"),u=w(null);l({el:u,$el:u});let m=k(()=>r.activeItemIndex.value!==null?r.items.value[r.activeItemIndex.value].id===a:!1),p=Gt(u),g=k(()=>({disabled:e.disabled,get textValue(){return p()},domRef:u}));ie(()=>r.registerItem(a,g)),Je(()=>r.unregisterItem(a)),K(()=>{r.menuState.value===0&&m.value&&r.activationTrigger.value!==0&&L(()=>{var b,S;return(S=(b=M(u))==null?void 0:b.scrollIntoView)==null?void 0:S.call(b,{block:"nearest"})})});function v(b){if(e.disabled)return b.preventDefault();r.closeMenu(),Ne(M(r.buttonRef))}function s(){if(e.disabled)return r.goToItem(P.Nothing);r.goToItem(P.Specific,a)}let f=Pt();function i(b){f.update(b)}function c(b){f.wasMoved(b)&&(e.disabled||m.value||r.goToItem(P.Specific,a,0))}function h(b){f.wasMoved(b)&&(e.disabled||m.value&&r.goToItem(P.Nothing))}return()=>{let{disabled:b}=e,S={active:m.value,disabled:b,close:r.closeMenu},{...d}=e;return Z({ourProps:{id:a,ref:u,role:"menuitem",tabIndex:b===!0?void 0:-1,"aria-disabled":b===!0?!0:void 0,disabled:void 0,onClick:v,onFocus:s,onPointerenter:i,onMouseenter:i,onPointermove:c,onMousemove:c,onPointerleave:h,onMouseleave:h},theirProps:{...n,...d},slot:S,attrs:n,slots:t,name:"MenuItem"})}}});const Zt={class:"mt-3 mb-1 text-xs font-bold"},Xt={class:"ml-1"},Qt=["onClick"],Jt={class:"flex items-center"},Yt=["onUpdate:modelValue","onKeypress"],en={key:1,class:"flex-1 truncate max-w-48"},tn={key:0,class:"absolute z-10 right-2"},nn={class:"py-1"},an=["onClick"],rn=["onClick"],ln=["onClick"],W=B({__name:"ListItem",props:{dataSources:{},title:{}},emits:["update","delete","sticky","select"],setup(e,{emit:t}){const n=e,l=t,o=n.dataSources,a=ce();async function r(i){l("select",i)}function u(i,c,h){h==null||h.stopPropagation(),i.isEdit=c}async function m(i,c){c==null||c.stopPropagation(),await a.updateGroupInfo({isSticky:!i.isSticky,groupId:i.uuid}),await a.queryMyGroup()}async function p(i,c){c==null||c.stopPropagation(),l("delete",i)}const g=ut(p,600);async function v(i){const{uuid:c,title:h}=i;i.isEdit=!1,await a.updateGroupInfo({groupId:c,title:h}),await a.queryMyGroup()}async function s(i,c){c==null||c.stopPropagation(),c.key==="Enter"&&v(i)}function f(i){return a.active===i}return(i,c)=>{var b;const h=Ye("focus");return _(),$(q,null,[y("p",Zt,[Ee(j(n.title)+" ",1),y("span",Xt,"("+j((b=I(o))==null?void 0:b.length)+")",1)]),(_(!0),$(q,null,et(I(o),S=>(_(),$("div",{key:`${S.uuid}`},[y("div",{class:H(["relative flex items-center gap-3 px-3 py-2 break-all rounded-md cursor-pointer hover:bg-white group dark:hover:bg-gray-800 font-medium text-sm",f(S.uuid)?["bg-white","text-primary-600","dark:bg-gray-800","dark:text-white"]:["text-gray-700","dark:bg-gray-900","dark:text-gray-400"]]),onClick:d=>r(S)},[y("div",Jt,[S.isEdit?ae((_(),$("input",{key:0,"onUpdate:modelValue":d=>S.title=d,type:"text",class:"bg-transparent border border-gray-200 dark:border-gray-400 px-1 shadow-none flex-1 truncate",onKeypress:d=>s(S,d)},null,40,Yt)),[[Te,S.title],[h]]):(_(),$("span",en,j(S.title),1)),S.isEdit?(_(),R(I(it),{key:2,class:"h-5 w-5 ml-2","aria-hidden":"true",onClick:d=>v(S)},null,8,["onClick"])):N("",!0)]),f(S.uuid)?(_(),$("div",tn,[S.isEdit?N("",!0):(_(),R(I(Wt),{key:0,as:"div",class:"relative inline-block text-left"},{default:O(()=>[C(I(qt),{class:"p-1"},{default:O(()=>[C(I(ct),{class:"h-5 w-5","aria-hidden":"true"})]),_:1}),C(tt,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:O(()=>[C(I(zt),{class:"absolute right-0 z-10 mt-2 w-32 text-gray-700 dark:text-gray-400 origin-top-right text-b rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none bg-primary-100 dark:bg-gray-800"},{default:O(()=>[y("div",nn,[C(I(ne),{as:"template"},{default:O(({active:d})=>[y("button",{class:H([d?"flex items-center bg-gray-100 dark:bg-gray-700 ":"flex items-center ","block w-full px-4 py-2 text-left text-sm"]),onClick:A=>u(S,!0,A)}," 重命名 ",10,an)]),_:2},1024),C(I(ne),{as:"template"},{default:O(({active:d})=>[y("button",{class:H([d?"flex items-end mr-3 bg-gray-100 dark:bg-gray-700":"flex items-end ","block w-full px-4 py-2 text-left text-sm"]),onClick:A=>m(S,A)}," 收藏对话 ",10,rn)]),_:2},1024),C(I(ne),{as:"template"},{default:O(({active:d})=>[y("button",{class:H([d?"flex items-center bg-gray-100 dark:bg-gray-700":"flex items-center ","block w-full px-4 py-2 text-left text-sm"]),onClick:A=>I(g)(S,A)}," 删除对话 ",10,ln)]),_:2},1024)])]),_:2},1024)]),_:2},1024)]),_:2},1024))])):N("",!0)],10,Qt)]))),128))],64)}}}),on={class:"flex flex-col gap-3 text-sm"},sn={key:0,class:"flex flex-col items-center mt-4 text-center text-neutral-300"},un=B({__name:"List",setup(e){const{isMobile:t}=De(),n=$e(),l=nt(),o=Ce(),a=ce(),r=Pe(),u=w(100),m=k(()=>a.groupList),p=k(()=>a.groupKeyWord);U(m,()=>u.value=u.value+1),U(p,()=>u.value=u.value+1),k(()=>r.isLogin);function g(d){const Q=new Date(d).getTime()+8*60*60*1e3;return new Date(Q).getTime()}const v=new Date().setHours(0,0,0,0),s=k(()=>m.value.filter(d=>p.value?d.title.includes(p.value)&&d.isSticky:d.isSticky)),f=k(()=>m.value.filter(d=>p.value?d.title.includes(p.value)&&!d.isSticky&&d.appId:!d.isSticky&&d.appId)),i=k(()=>m.value.filter(d=>p.value?d.title.includes(p.value)&&!d.isSticky&&!d.appId&&g(d.createdAt)>=v:!d.isSticky&&!d.appId&&g(d.createdAt)>=v)),c=k(()=>m.value.filter(d=>p.value?d.title.includes(p.value)&&!d.isSticky&&!d.appId&&g(d.createdAt)<v:!d.isSticky&&!d.appId&&g(d.createdAt)<v));async function h(d){const{uuid:A}=d;S(A)||(await a.setActiveGroup(A),l.name!=="Chat"&&n.push("/chat"),t.value&&o.setSiderCollapsed(!0))}async function b(d){event==null||event.stopPropagation(),await a.deleteGroup(d),await a.queryMyGroup(),t.value&&o.setSiderCollapsed(!0)}function S(d){return a.active===d}return ie(()=>{a.queryMyGroup()}),(d,A)=>(_(),R(I(at),{class:"px-4"},{default:O(()=>[y("div",on,[m.value.length?(_(),$(q,{key:1},[s.value.length?(_(),R(W,{key:1e3+u.value,title:"收藏","data-sources":s.value,onSelect:h,onDelete:b},null,8,["data-sources"])):N("",!0),f.value.length?(_(),R(W,{key:2e3+u.value,title:"应用分类组","data-sources":f.value,onSelect:h,onDelete:b},null,8,["data-sources"])):N("",!0),i.value.length?(_(),R(W,{key:3e3+u.value,title:"今日对话","data-sources":i.value,onSelect:h,onDelete:b},null,8,["data-sources"])):N("",!0),c.value.length?(_(),R(W,{key:4e3+u.value,title:"历史对话","data-sources":c.value,onSelect:h,onDelete:b},null,8,["data-sources"])):N("",!0)],64)):(_(),$("div",sn,[C(I(re),{icon:"ri:inbox-line",class:"mb-2 text-3xl"}),y("span",null,j(d.$t("common.noData")),1)]))])]),_:1}))}}),cn={class:"flex flex-col h-full flex-1"},dn={class:"flex items-center space-x-2 bg-gray-50 dark:bg-gray-900 h-14 px-3 border-b border-b-gray-100 dark:border-b dark:border-b-gray-800 text-lg"},fn={class:"flex-1 relative"},pn={class:"flex-1 relative"},vn={class:"flex-1 min-h-0 overflow-hidden"},mn={class:"p-4 pb-1 pt-1 border-t border-t-gray-100 dark:border-t-gray-800 flex flex-col"},gn={class:"flex justify-between my-3"},hn=y("span",null,"应用中心",-1),yn=y("span",null,"清空对话",-1),bn={type:"button",class:"inline-flex mb-2 justify-center items-center rounded-md bg-white dark:bg-gray-900 px-3 py-2 text-sm text-gray-500 shadow-sm ring-1 ring-inset ring-gray-200 dark:ring-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800 w-full"},wn={key:0,class:"w-full flex justify-center items-center pb-3 text-xs text-gray-500"},xn={class:"ml-2 transition-all text-gray-500 hover:text-gray-600 dark:hover:text-gray-400",href:"https://beian.miit.gov.cn",target:"_blank"},In=B({__name:"index",setup(e){const t=rt(),n=$e(),l=Ce(),o=ce(),a=Pe(),r=w(null),u=w(null),m=w(null),p=k(()=>a.userBalance),g=lt(),v=k(()=>a.globalConfig),s=k(()=>{var E,x;return((E=v.value)==null?void 0:E.companyName)&&((x=v.value)==null?void 0:x.filingNumber)}),f=k(()=>o.groupList.find(x=>x.uuid===o.active)),i=k(()=>{var E;try{return JSON.parse(((E=f.value)==null?void 0:E.config)||"{}")}catch(x){return console.error("解析config字符串时出错:",x),{}}}),c=k(()=>o==null?void 0:o.activeModelDeductType),h=k(()=>{const E=i.value.deductType||c.value;let x,T;switch(E){case 1:x=p.value.sumModel3Count||0,T="普通积分";break;case 2:x=p.value.sumModel4Count||0,T="高级积分";break;case 3:x=p.value.sumDrawMjCount||0,T="绘画积分";break;default:x=0,T="积分"}return{remainingPoints:x,buttonText:T}}),b=w(0),S=w(0),d=w(0),A=w(0),Q=w(0),ge=w(0),Be=w("chat"),Ue=w(!1),Ge=w(null);U(()=>a.userBalance.useModel3Token,(E,x)=>{var T;b.value=x||0,S.value=E||0,(T=r.value)==null||T.play()},{immediate:!0,flush:"post"}),U(()=>a.userBalance.useModel4Token,(E,x)=>{var T;d.value=x||0,A.value=E||0,(T=u.value)==null||T.play()},{immediate:!0,flush:"post"}),U(()=>a.userBalance.useDrawMjToken,(E,x)=>{var T;Q.value=x||0,ge.value=E||0,(T=m.value)==null||T.play()},{immediate:!0,flush:"post"});const{isMobile:F}=De(),J=w(!1),Y=k(()=>l.siderCollapsed),ee=w("");function Ke(E){const x=E.target.value;ee.value=x,o.setGroupKeyWord(x)}function He(){Ue.value=!1}function Ve(){n.replace("/role")}async function We(){try{J.value=!0,await o.addNewChatGroup(),await o.queryMyGroup(),J.value=!1,F.value&&l.setSiderCollapsed(!0)}catch{J.value=!1}}async function qe(){g.warning({title:"清空对话",content:"清空所有非收藏的对话？",positiveText:"确认",negativeText:"取消",onPositiveClick:async()=>{await o.delAllGroup()}})}function he(){l.setSiderCollapsed(!Y.value)}const ze=k(()=>F.value?{position:"fixed",zIndex:50}:{}),Ze=k(()=>F.value?{paddingBottom:"env(safe-area-inset-bottom)"}:{});return U(F,E=>{l.setSiderCollapsed(E)},{immediate:!0,flush:"post"}),(E,x)=>(_(),$("div",null,[C(I(st),{collapsed:Y.value,"collapsed-width":0,width:260,"show-trigger":I(F)?!1:"arrow-circle","collapse-mode":"transform",position:"absolute",bordered:"",style:we(ze.value),onUpdateCollapsed:he},{default:O(()=>{var T,ye;return[y("div",{class:"flex flex-col h-full bg-gray-50 dark:bg-gray-900",style:we(Ze.value)},[y("main",cn,[y("div",dn,[y("div",fn,[y("div",pn,[C(I(dt),{class:"pointer-events-none absolute inset-y-0 left-0 h-full w-5 text-gray-400","aria-hidden":"true"}),ae(y("input",{ref_key:"searchRef",ref:Ge,"onUpdate:modelValue":x[0]||(x[0]=be=>ee.value=be),type:"text",placeholder:"搜索历史对话",class:"block h-full w-full py-0 pl-8 pr-0 text-gray-700 placeholder:text-gray-400 sm:text-sm bg-gray-50 dark:bg-gray-900 dark:text-gray-400",onBlur:He,onInput:Ke},null,544),[[Te,ee.value]])])]),y("button",{type:"button",class:"rounded-md p-2 text-sm focus-visible:outline bg-gray-50 text-gray-400 dark:bg-gray-800",onClick:We},[C(I(ft),{class:"h-5 w-5","aria-hidden":"true"})])]),y("div",vn,[Be.value==="chat"?(_(),R(un,{key:0})):N("",!0)]),y("div",mn,[y("div",gn,[y("button",{type:"button",class:"inline-flex justify-center items-center rounded-md bg-white dark:bg-gray-900 px-3 py-2 text-sm text-gray-500 shadow-sm ring-1 ring-inset ring-gray-200 dark:ring-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800",onClick:Ve},[C(I(re),{icon:"ri:emoji-sticker-line",class:"ml-0 mr-3 text-sm"}),hn]),y("button",{type:"button",class:"inline-flex justify-center items-center rounded-md bg-white dark:bg-gray-900 px-3 py-2 text-sm text-gray-500 shadow-sm ring-1 ring-inset ring-gray-200 dark:ring-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800",onClick:qe},[C(I(re),{icon:"mdi:notice-board",class:"ml-0 mr-3 text-sm"}),yn])]),y("div",{onClick:x[1]||(x[1]=be=>I(t).updateGoodsDialog(!0))},[y("button",bn,[y("span",null,"剩余："+j(`${h.value.remainingPoints} ${h.value.buttonText}`),1)])])]),s.value&&I(F)?(_(),$("div",wn,[Ee(" 版权所有 © "+j((T=v.value)==null?void 0:T.companyName)+" ",1),y("a",xn,j((ye=v.value)==null?void 0:ye.filingNumber),1)])):N("",!0)])],4)]}),_:1},8,["collapsed","show-trigger","style"]),I(F)?ae((_(),$("div",{key:0,class:"fixed inset-0 z-40 bg-black/40",onClick:he},null,512)),[[ot,!Y.value]]):N("",!0)]))}});export{ne as M,qt as S,In as _,zt as b,Wt as g};
