
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.github.io
 */

import{_ as T}from"./index.vue_vue_type_script_setup_true_lang-D6-4wUAO.js";import{d as F,m as B,r as V,a as N,n as i,g as R,c as j,b as e,w as l,h as g,i as _,J as f,e as o,E as h,j as E,_ as I,k as w}from"./index-CAe0BuuW.js";import{a as k}from"./config-CwtVyG0K.js";const $=o("div",{class:"flex items-center gap-4"},"插件应用基础配置",-1),A=o("div",{class:"text-sm/6"},[o("div",null," 插件基础配置，包括插件地址、插件 Key、隐藏插件、插件优先显示、应用菜单顶部提示语等。 "),o("div",null,[g(" 插件项目"),o("a",{href:"https://github.com/vastxie/99AIPlugin",target:"_blank"},"开源地址"),g(" ，可自行部署，欢迎共同维护。 ")])],-1),O=o("div",{style:{width:"250px"}},[o("p",null,"开启后，将隐藏插件功能")],-1),S=o("div",{style:{width:"250px"}},[o("p",null,"开启后，对话页默认优先显示插件")],-1),J=o("div",{style:{width:"250px"}}," 用于应用菜单顶部的自定义语句、修改后将生效、不设置则使用默认的！ ",-1),z=F({__name:"visible",setup(D){const n=B({pluginUrl:"",pluginKey:"",appMenuHeaderTips:null,siteRobotName:"",pluginFirst:"1",isHidePlugin:"0"}),H=V({pluginUrl:[{required:!0,trigger:"blur",message:"请填写插件地址"}],pluginKey:[{required:!0,trigger:"blur",message:"请填写插件key"}],appMenuHeaderTips:[{required:!0,trigger:"blur",message:"填写应用市场的提示语"}]}),x=V();async function v(){const s=await k.queryConfig({keys:["appMenuHeaderTips","pluginUrl","pluginKey","pluginFirst","isHidePlugin"]});Object.assign(n,s.data)}function U(){var s;(s=x.value)==null||s.validate(async t=>{if(t){try{await k.setConfig({settings:K(n)}),h.success("变更配置信息成功")}catch{}v()}else h.error("请填写完整信息")})}function K(s){return Object.keys(s).map(t=>({configKey:t,configVal:s[t]}))}return N(()=>{v()}),(s,t)=>{const y=E,C=I,M=T,p=i("el-input"),u=i("el-form-item"),r=i("el-col"),d=i("el-row"),b=i("el-switch"),c=i("el-icon"),m=i("el-tooltip"),P=i("el-form"),q=i("el-card");return R(),j("div",null,[e(M,null,{title:l(()=>[$]),content:l(()=>[A]),default:l(()=>[e(C,{outline:"",onClick:U},{default:l(()=>[e(y,{name:"i-ri:file-text-line"}),g(" 保存设置 ")]),_:1})]),_:1}),e(q,{style:{margin:"20px"}},{default:l(()=>[e(P,{ref_key:"formRef",ref:x,rules:H.value,model:n,"label-width":"150px"},{default:l(()=>[e(d,null,{default:l(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(u,{label:"插件地址",prop:"pluginUrl"},{default:l(()=>[e(p,{modelValue:n.pluginUrl,"onUpdate:modelValue":t[0]||(t[0]=a=>n.pluginUrl=a),placeholder:"插件地址",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(u,{label:"插件 Key",prop:"pluginKey"},{default:l(()=>[e(p,{modelValue:n.pluginKey,"onUpdate:modelValue":t[1]||(t[1]=a=>n.pluginKey=a),placeholder:"插件 Key",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(u,{label:"隐藏插件",prop:"isHidePlugin"},{default:l(()=>[e(b,{modelValue:n.isHidePlugin,"onUpdate:modelValue":t[2]||(t[2]=a=>n.isHidePlugin=a),"active-value":"1","inactive-value":"0"},null,8,["modelValue"]),e(m,{class:"box-item",effect:"dark",placement:"right"},{content:l(()=>[O]),default:l(()=>[e(c,{class:"ml-3 cursor-pointer"},{default:l(()=>[e(_(f))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(u,{label:"插件优先显示",prop:"pluginFirst"},{default:l(()=>[e(b,{modelValue:n.pluginFirst,"onUpdate:modelValue":t[3]||(t[3]=a=>n.pluginFirst=a),"active-value":"1","inactive-value":"0"},null,8,["modelValue"]),e(m,{class:"box-item",effect:"dark",placement:"right"},{content:l(()=>[S]),default:l(()=>[e(c,{class:"ml-3 cursor-pointer"},{default:l(()=>[e(_(f))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(u,{label:"应用菜单顶部提示语",prop:"maxRounds"},{default:l(()=>[e(p,{modelValue:n.appMenuHeaderTips,"onUpdate:modelValue":t[4]||(t[4]=a=>n.appMenuHeaderTips=a),placeholder:"请填写应用菜单顶部提示语",clearable:"",style:{width:"80%"}},null,8,["modelValue"]),e(m,{class:"box-item",effect:"dark",placement:"right"},{content:l(()=>[J]),default:l(()=>[e(c,{class:"ml-3 cursor-pointer"},{default:l(()=>[e(_(f))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1})])}}});typeof w=="function"&&w(z);export{z as default};
