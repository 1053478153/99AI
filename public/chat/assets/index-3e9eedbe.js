import{d as V,e as p,r as i,a as $,w as D,f as G,o as H,U as l,a3 as s,a4 as n,M as c,X as h,k as R,a6 as W,F as k,a7 as C,W as E,A as X,S as o,a5 as A,a9 as J}from"./vue-cf46d111.js";import{a as K,q as O,b as Y,t as g,f as Z,c as ee,d as te,e as ae,r as se}from"./index-a70ad6b3.js";import{e as re}from"./naive-ui-074da7ca.js";import{S as le,a as ne}from"./Star-723ae1fb.js";import"./vueuse-motion-d8fe070a.js";import"./index-08cceacb.js";const oe={class:"relative flex justify-center bg-custom-gradient dark:bg-gray-900 min-h-screen"},ie={class:"w-full flex flex-col items-center max-w-screen-4xl p-4 lg:p-6"},ce={class:"mb-2 mt-8 text-center text-3xl font-extrabold text-primary-500 dark:text-primary-600 lg:text-4xl"},de={class:"flex justify-center text-base text-small mb-4 mt-4 text-center text-gray-500 dark:text-gray-400 tracking-widest lg:text-lg"},ue={class:"flex w-full rounded-xl shadow-sm ring-1 ring-gray-300 focus-within:ring-2 focus-within:ring-primary-400 text-gray-900 placeholder:text-gray-400 border-0 bg-transparent sm:text-sm sm:leading-6 resize-none dark:focus:ring-gray-600 dark:ring-gray-600 dark:bg-gray-800"},pe={class:"relative flex flex-1 w-full"},ge={for:"search-field",class:"sr-only"},fe={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},me=["placeholder"],xe={class:"w-full"},he={class:"flex lg:justify-between overflow-x-auto scrollbar-hide my-2 pb-3 pt-4",style:{"max-width":"80%",margin:"auto"}},ye=["onClick"],ve=["onClick"],_e={key:0,class:"flex-shrink-0 dark:ring-gray-400 rounded-lg"},we=["src"],be={class:"text-white text-sm md:text-lg"},ke={class:"flex-grow flex flex-col"},Ce={class:"flex items-center font-medium text-lg text-gray-600 dark:text-gray-400 my-1"},Ae={class:"line-clamp-1 overflow-hidden text-ellipsis block flex-grow whitespace-nowrap"},Ie={class:"text-xs line-clamp-2 text-gray-500 dark:text-gray-400 my-3"},Qe=V({__name:"index",setup(Me){var b;const y=K(),v=O(),I=((b=y.globalConfig)==null?void 0:b.siteName)||"AIWeb",M=p(()=>y.globalConfig.appMenuHeaderTips),S=re(),f=Y(),u=i(""),N=i([]),q=p(()=>f.catId),r=i([]),m=i([]),P=p(()=>f.mineApps),_=i([]),d=i(0);$("createNewChatGroup",async e=>{});function w(e){return P.value.some(a=>a.appId===e.id)}async function j(){var a;const e=await Z();r.value=(a=e==null?void 0:e.data)==null?void 0:a.rows.map(t=>(t.loading=!1,t)),m.value=r.value}const z=p(()=>u.value?r.value.filter(e=>e.name.includes(u.value)):d.value===0?r.value:r.value.filter(e=>e.catId===d.value));async function L(e){e.loading=!0;try{const a=await ae({appId:e.id});S.success(a.data),await f.queryMineApps(),e.loading=!1}catch{e.loading=!1}}async function Q(e){const a=Number(e.id);se.replace({path:"/chat",query:{appId:a}})}async function B(){var t;const e=await ee(),a={id:0,name:g("app.allCategories")};_.value=[a,...(t=e==null?void 0:e.data)==null?void 0:t.rows]}async function F(){const e=await te({menuPlatform:1});e.success&&(N.value=e.data)}function T(e){d.value=e}D(q,e=>{e?m.value=r.value.filter(a=>a.catId===e):m.value=r.value});function U(){const e=["bg-blue-300","bg-red-300","bg-green-300","bg-yellow-300","bg-purple-300","bg-pink-300"];return e[Math.floor(Math.random()*e.length)]}return G(()=>{B(),j(),F(),v.setSiderCollapsed(!0)}),H(()=>{v.setSiderCollapsed(!1)}),(e,a)=>(o(),l("div",oe,[s("div",ie,[s("div",ce,n(c(I)),1),s("div",de,n(M.value||c(g)("app.exploreInfinitePossibilities")),1),s("div",ue,[s("div",pe,[s("label",ge,n(c(g)("app.searchAppNameQuickFind")),1),s("div",fe,[h(c(le),{theme:"outline",size:"24",class:"text-gray-400"})]),R(s("input",{id:"search-field","onUpdate:modelValue":a[0]||(a[0]=t=>u.value=t),class:"z-1 w-full rounded-xl dark:bg-gray-800 py-2 pr-3 font-normal outline-0 delay-100 md:h-14 h-12 text-base pl-12 dark:text-gray-400",placeholder:c(g)("app.searchAppNameQuickFind"),type:"search",name:"search"},null,8,me),[[W,u.value]])])]),s("div",xe,[s("div",he,[(o(!0),l(k,null,C(_.value,(t,x)=>(o(),l("div",{key:x,onClick:Se=>T(t.id),class:A([{"bg-gray-100 dark:bg-gray-700 text-primary-600 dark:text-gray-400   ":d.value===t.id,"text-gray-500":d.value!==t.id},"cursor-pointer whitespace-nowrap rounded-full px-4 py-2 m-1 lg:m-0 flex-none"])},n(t.name),11,ye))),128))])]),h(X,{name:"list",tag:"div",class:"w-full grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 2xl:grid-cols-4 3xl:grid-cols-4 gap-4 py-1"},{default:E(()=>[(o(!0),l(k,null,C(z.value,t=>(o(),l("div",{key:t.id,onClick:x=>Q(t),class:"custom-card cursor-pointer flex items-center gap-5 overflow-hidden rounded-xl bg-gray-50 px-7 py-8 m-1 hover:shadow-md dark:bg-gray-800 dark:hover:bg-gray-700"},[t.coverImg?(o(),l("div",_e,[s("img",{src:t.coverImg,class:"rounded-2xl w-20 h-20",alt:"app-image"},null,8,we)])):(o(),l("div",{key:1,class:A([U(),"flex-shrink-0  dark:ring-gray-400 rounded-2xl w-20 h-20 flex items-center justify-center"])},[s("span",be,n(t.name.slice(0,4)),1)],2)),s("div",ke,[s("div",Ce,[s("span",Ae,n(t.name),1),h(c(ne),{theme:w(t)?"filled":"outline",size:"24",fill:w(t)?"#fde68a":"#e5e7eb",class:"cursor-pointer",onClick:J(x=>L(t),["stop"])},null,8,["theme","fill","onClick"])]),s("span",Ie,n(t.des),1)])],8,ve))),128))]),_:1})])]))}});export{Qe as default};
