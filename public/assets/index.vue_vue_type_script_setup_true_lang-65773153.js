import{o as k,c as D,a as y,v as L,aK as K,r as x,e as S,h as le,bf as Ke,aa as Ve,F as z,aD as xe,aV as ke,d as j,i as He,a5 as se,J as Se,t as F,m,j as We,ah as te,ai as _e,p as R,s as P,l as A,k as M,E as H,T as qe,bg as ze,C as Ie,f as Ee,Y as Ze,D as De,u as $e,w as U,_ as ne,a3 as Ye,ac as Qe,Q as Xe,n as ge,aj as Je}from"./index-ff703318.js";import{N as et}from"./LayoutSider-2aa29697.js";function tt(e,n){let r;return(...o)=>{const t=()=>{clearTimeout(r),e(...o)};clearTimeout(r),r=setTimeout(t,n)}}function nt(e,n){return k(),D("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}function rt(e,n){return k(),D("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})])}function at(e,n){return k(),D("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}function ot(e,n){return k(),D("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[y("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}let lt=0;function st(){return++lt}function ue(){return st()}function _(e){var n;if(e==null||e.value==null)return null;let r=(n=e.value.$el)!=null?n:e.value;return r instanceof Node?r:null}function Z(e,n,...r){if(e in n){let t=n[e];return typeof t=="function"?t(...r):t}let o=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(n).map(t=>`"${t}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,Z),o}var ut=Object.defineProperty,it=(e,n,r)=>n in e?ut(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,me=(e,n,r)=>(it(e,typeof n!="symbol"?n+"":n,r),r);let ct=class{constructor(){me(this,"current",this.detect()),me(this,"currentId",0)}set(n){this.current!==n&&(this.currentId=0,this.current=n)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},ie=new ct;function ce(e){if(ie.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let n=_(e);if(n)return n.ownerDocument}return document}let re=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var ae=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(ae||{}),dt=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(dt||{}),ft=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(ft||{});function Me(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(re)).sort((n,r)=>Math.sign((n.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var de=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(de||{});function fe(e,n=0){var r;return e===((r=ce(e))==null?void 0:r.body)?!1:Z(n,{[0](){return e.matches(re)},[1](){let o=e;for(;o!==null;){if(o.matches(re))return!0;o=o.parentElement}return!1}})}function Te(e){let n=ce(e);L(()=>{n&&!fe(n.activeElement,0)&&vt(e)})}var pt=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(pt||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function vt(e){e==null||e.focus({preventScroll:!0})}let gt=["textarea","input"].join(",");function mt(e){var n,r;return(r=(n=e==null?void 0:e.matches)==null?void 0:n.call(e,gt))!=null?r:!1}function Ce(e,n=r=>r){return e.slice().sort((r,o)=>{let t=n(r),a=n(o);if(t===null||a===null)return 0;let c=t.compareDocumentPosition(a);return c&Node.DOCUMENT_POSITION_FOLLOWING?-1:c&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function ht(e,n){return yt(Me(),n,{relativeTo:e})}function yt(e,n,{sorted:r=!0,relativeTo:o=null,skipElements:t=[]}={}){var a;let c=(a=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e==null?void 0:e.ownerDocument)!=null?a:document,u=Array.isArray(e)?r?Ce(e):e:Me(e);t.length>0&&u.length>1&&(u=u.filter(s=>!t.includes(s))),o=o??c.activeElement;let g=(()=>{if(n&5)return 1;if(n&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=(()=>{if(n&1)return 0;if(n&2)return Math.max(0,u.indexOf(o))-1;if(n&4)return Math.max(0,u.indexOf(o))+1;if(n&8)return u.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=n&32?{preventScroll:!0}:{},h=0,v=u.length,d;do{if(h>=v||h+v<=0)return 0;let s=f+h;if(n&16)s=(s+v)%v;else{if(s<0)return 3;if(s>=v)return 1}d=u[s],d==null||d.focus(l),h+=g}while(d!==c.activeElement);return n&6&&mt(d)&&d.select(),2}function bt(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function wt(){return/Android/gi.test(window.navigator.userAgent)}function xt(){return bt()||wt()}function W(e,n,r){ie.isServer||K(o=>{document.addEventListener(e,n,r),o(()=>document.removeEventListener(e,n,r))})}function kt(e,n,r){ie.isServer||K(o=>{window.addEventListener(e,n,r),o(()=>window.removeEventListener(e,n,r))})}function St(e,n,r=S(()=>!0)){function o(a,c){if(!r.value||a.defaultPrevented)return;let u=c(a);if(u===null||!u.getRootNode().contains(u))return;let g=function f(l){return typeof l=="function"?f(l()):Array.isArray(l)||l instanceof Set?l:[l]}(e);for(let f of g){if(f===null)continue;let l=f instanceof HTMLElement?f:_(f);if(l!=null&&l.contains(u)||a.composed&&a.composedPath().includes(l))return}return!fe(u,de.Loose)&&u.tabIndex!==-1&&a.preventDefault(),n(a,u)}let t=x(null);W("pointerdown",a=>{var c,u;r.value&&(t.value=((u=(c=a.composedPath)==null?void 0:c.call(a))==null?void 0:u[0])||a.target)},!0),W("mousedown",a=>{var c,u;r.value&&(t.value=((u=(c=a.composedPath)==null?void 0:c.call(a))==null?void 0:u[0])||a.target)},!0),W("click",a=>{xt()||t.value&&(o(a,()=>t.value),t.value=null)},!0),W("touchend",a=>o(a,()=>a.target instanceof HTMLElement?a.target:null),!0),kt("blur",a=>o(a,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function he(e,n){if(e)return e;let r=n??"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function _t(e,n){let r=x(he(e.value.type,e.value.as));return le(()=>{r.value=he(e.value.type,e.value.as)}),K(()=>{var o;r.value||_(n)&&_(n)instanceof HTMLButtonElement&&!((o=_(n))!=null&&o.hasAttribute("type"))&&(r.value="button")}),r}function ye(e){return[e.screenX,e.screenY]}function It(){let e=x([-1,-1]);return{wasMoved(n){let r=ye(n);return e.value[0]===r[0]&&e.value[1]===r[1]?!1:(e.value=r,!0)},update(n){e.value=ye(n)}}}function Et({container:e,accept:n,walk:r,enabled:o}){K(()=>{let t=e.value;if(!t||o!==void 0&&!o.value)return;let a=ce(e);if(!a)return;let c=Object.assign(g=>n(g),{acceptNode:n}),u=a.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,c,!1);for(;u.nextNode();)r(u.currentNode)})}var oe=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(oe||{}),Dt=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Dt||{});function Y({visible:e=!0,features:n=0,ourProps:r,theirProps:o,...t}){var a;let c=Ae(o,r),u=Object.assign(t,{props:c});if(e||n&2&&c.static)return J(u);if(n&1){let g=(a=c.unmount)==null||a?0:1;return Z(g,{[0](){return null},[1](){return J({...t,props:{...c,hidden:!0,style:{display:"none"}}})}})}return J(u)}function J({props:e,attrs:n,slots:r,slot:o,name:t}){var a,c;let{as:u,...g}=$t(e,["unmount","static"]),f=(a=r.default)==null?void 0:a.call(r,o),l={};if(o){let h=!1,v=[];for(let[d,s]of Object.entries(o))typeof s=="boolean"&&(h=!0),s===!0&&v.push(d);h&&(l["data-headlessui-state"]=v.join(" "))}if(u==="template"){if(f=Pe(f??[]),Object.keys(g).length>0||Object.keys(n).length>0){let[h,...v]=f??[];if(!Mt(h)||v.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${t} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(g).concat(Object.keys(n)).map(i=>i.trim()).filter((i,w,b)=>b.indexOf(i)===w).sort((i,w)=>i.localeCompare(w)).map(i=>`  - ${i}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(i=>`  - ${i}`).join(`
`)].join(`
`));let d=Ae((c=h.props)!=null?c:{},g,l),s=Ke(h,d,!0);for(let i in d)i.startsWith("on")&&(s.props||(s.props={}),s.props[i]=d[i]);return s}return Array.isArray(f)&&f.length===1?f[0]:f}return Ve(u,Object.assign({},g,l),{default:()=>f})}function Pe(e){return e.flatMap(n=>n.type===z?Pe(n.children):[n])}function Ae(...e){if(e.length===0)return{};if(e.length===1)return e[0];let n={},r={};for(let o of e)for(let t in o)t.startsWith("on")&&typeof o[t]=="function"?(r[t]!=null||(r[t]=[]),r[t].push(o[t])):n[t]=o[t];if(n.disabled||n["aria-disabled"])return Object.assign(n,Object.fromEntries(Object.keys(r).map(o=>[o,void 0])));for(let o in r)Object.assign(n,{[o](t,...a){let c=r[o];for(let u of c){if(t instanceof Event&&t.defaultPrevented)return;u(t,...a)}}});return n}function $t(e,n=[]){let r=Object.assign({},e);for(let o of n)o in r&&delete r[o];return r}function Mt(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}let Ne=Symbol("Context");var G=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(G||{});function Tt(){return xe(Ne,null)}function Ct(e){ke(Ne,e)}var E=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(E||{});function Pt(e){throw new Error("Unexpected object: "+e)}var T=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(T||{});function At(e,n){let r=n.resolveItems();if(r.length<=0)return null;let o=n.resolveActiveIndex(),t=o??-1;switch(e.focus){case 0:{for(let a=0;a<r.length;++a)if(!n.resolveDisabled(r[a],a,r))return a;return o}case 1:{t===-1&&(t=r.length);for(let a=t-1;a>=0;--a)if(!n.resolveDisabled(r[a],a,r))return a;return o}case 2:{for(let a=t+1;a<r.length;++a)if(!n.resolveDisabled(r[a],a,r))return a;return o}case 3:{for(let a=r.length-1;a>=0;--a)if(!n.resolveDisabled(r[a],a,r))return a;return o}case 4:{for(let a=0;a<r.length;++a)if(n.resolveId(r[a],a,r)===e.id)return a;return o}case 5:return null;default:Pt(e)}}let be=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function we(e){var n,r;let o=(n=e.innerText)!=null?n:"",t=e.cloneNode(!0);if(!(t instanceof HTMLElement))return o;let a=!1;for(let u of t.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))u.remove(),a=!0;let c=a?(r=t.innerText)!=null?r:"":o;return be.test(c)&&(c=c.replace(be,"")),c}function Nt(e){let n=e.getAttribute("aria-label");if(typeof n=="string")return n.trim();let r=e.getAttribute("aria-labelledby");if(r){let o=r.split(" ").map(t=>{let a=document.getElementById(t);if(a){let c=a.getAttribute("aria-label");return typeof c=="string"?c.trim():we(a).trim()}return null}).filter(Boolean);if(o.length>0)return o.join(", ")}return we(e).trim()}function Ot(e){let n=x(""),r=x("");return()=>{let o=_(e);if(!o)return"";let t=o.innerText;if(n.value===t)return r.value;let a=Nt(o).trim().toLowerCase();return n.value=t,r.value=a,a}}var Ft=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ft||{}),Rt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Rt||{});function Lt(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let Oe=Symbol("MenuContext");function Q(e){let n=xe(Oe,null);if(n===null){let r=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Q),r}return n}let jt=j({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:n,attrs:r}){let o=x(1),t=x(null),a=x(null),c=x([]),u=x(""),g=x(null),f=x(1);function l(v=d=>d){let d=g.value!==null?c.value[g.value]:null,s=Ce(v(c.value.slice()),w=>_(w.dataRef.domRef)),i=d?s.indexOf(d):null;return i===-1&&(i=null),{items:s,activeItemIndex:i}}let h={menuState:o,buttonRef:t,itemsRef:a,items:c,searchQuery:u,activeItemIndex:g,activationTrigger:f,closeMenu:()=>{o.value=1,g.value=null},openMenu:()=>o.value=0,goToItem(v,d,s){let i=l(),w=At(v===T.Specific?{focus:T.Specific,id:d}:{focus:v},{resolveItems:()=>i.items,resolveActiveIndex:()=>i.activeItemIndex,resolveId:b=>b.id,resolveDisabled:b=>b.dataRef.disabled});u.value="",g.value=w,f.value=s??1,c.value=i.items},search(v){let d=u.value!==""?0:1;u.value+=v.toLowerCase();let s=(g.value!==null?c.value.slice(g.value+d).concat(c.value.slice(0,g.value+d)):c.value).find(w=>w.dataRef.textValue.startsWith(u.value)&&!w.dataRef.disabled),i=s?c.value.indexOf(s):-1;i===-1||i===g.value||(g.value=i,f.value=1)},clearSearch(){u.value=""},registerItem(v,d){let s=l(i=>[...i,{id:v,dataRef:d}]);c.value=s.items,g.value=s.activeItemIndex,f.value=1},unregisterItem(v){let d=l(s=>{let i=s.findIndex(w=>w.id===v);return i!==-1&&s.splice(i,1),s});c.value=d.items,g.value=d.activeItemIndex,f.value=1}};return St([t,a],(v,d)=>{var s;h.closeMenu(),fe(d,de.Loose)||(v.preventDefault(),(s=_(t))==null||s.focus())},S(()=>o.value===0)),ke(Oe,h),Ct(S(()=>Z(o.value,{[0]:G.Open,[1]:G.Closed}))),()=>{let v={open:o.value===0,close:h.closeMenu};return Y({ourProps:{},theirProps:e,slot:v,slots:n,attrs:r,name:"Menu"})}}}),Bt=j({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-menu-button-${ue()}`}},setup(e,{attrs:n,slots:r,expose:o}){let t=Q("MenuButton");o({el:t.buttonRef,$el:t.buttonRef});function a(f){switch(f.key){case E.Space:case E.Enter:case E.ArrowDown:f.preventDefault(),f.stopPropagation(),t.openMenu(),L(()=>{var l;(l=_(t.itemsRef))==null||l.focus({preventScroll:!0}),t.goToItem(T.First)});break;case E.ArrowUp:f.preventDefault(),f.stopPropagation(),t.openMenu(),L(()=>{var l;(l=_(t.itemsRef))==null||l.focus({preventScroll:!0}),t.goToItem(T.Last)});break}}function c(f){switch(f.key){case E.Space:f.preventDefault();break}}function u(f){e.disabled||(t.menuState.value===0?(t.closeMenu(),L(()=>{var l;return(l=_(t.buttonRef))==null?void 0:l.focus({preventScroll:!0})})):(f.preventDefault(),t.openMenu(),Lt(()=>{var l;return(l=_(t.itemsRef))==null?void 0:l.focus({preventScroll:!0})})))}let g=_t(S(()=>({as:e.as,type:n.type})),t.buttonRef);return()=>{var f;let l={open:t.menuState.value===0},{id:h,...v}=e,d={ref:t.buttonRef,id:h,type:g.value,"aria-haspopup":"menu","aria-controls":(f=_(t.itemsRef))==null?void 0:f.id,"aria-expanded":t.menuState.value===0,onKeydown:a,onKeyup:c,onClick:u};return Y({ourProps:d,theirProps:v,slot:l,attrs:n,slots:r,name:"MenuButton"})}}}),Ut=j({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-menu-items-${ue()}`}},setup(e,{attrs:n,slots:r,expose:o}){let t=Q("MenuItems"),a=x(null);o({el:t.itemsRef,$el:t.itemsRef}),Et({container:S(()=>_(t.itemsRef)),enabled:S(()=>t.menuState.value===0),accept(l){return l.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:l.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(l){l.setAttribute("role","none")}});function c(l){var h;switch(a.value&&clearTimeout(a.value),l.key){case E.Space:if(t.searchQuery.value!=="")return l.preventDefault(),l.stopPropagation(),t.search(l.key);case E.Enter:if(l.preventDefault(),l.stopPropagation(),t.activeItemIndex.value!==null){let v=t.items.value[t.activeItemIndex.value];(h=_(v.dataRef.domRef))==null||h.click()}t.closeMenu(),Te(_(t.buttonRef));break;case E.ArrowDown:return l.preventDefault(),l.stopPropagation(),t.goToItem(T.Next);case E.ArrowUp:return l.preventDefault(),l.stopPropagation(),t.goToItem(T.Previous);case E.Home:case E.PageUp:return l.preventDefault(),l.stopPropagation(),t.goToItem(T.First);case E.End:case E.PageDown:return l.preventDefault(),l.stopPropagation(),t.goToItem(T.Last);case E.Escape:l.preventDefault(),l.stopPropagation(),t.closeMenu(),L(()=>{var v;return(v=_(t.buttonRef))==null?void 0:v.focus({preventScroll:!0})});break;case E.Tab:l.preventDefault(),l.stopPropagation(),t.closeMenu(),L(()=>ht(_(t.buttonRef),l.shiftKey?ae.Previous:ae.Next));break;default:l.key.length===1&&(t.search(l.key),a.value=setTimeout(()=>t.clearSearch(),350));break}}function u(l){switch(l.key){case E.Space:l.preventDefault();break}}let g=Tt(),f=S(()=>g!==null?(g.value&G.Open)===G.Open:t.menuState.value===0);return()=>{var l,h;let v={open:t.menuState.value===0},{id:d,...s}=e,i={"aria-activedescendant":t.activeItemIndex.value===null||(l=t.items.value[t.activeItemIndex.value])==null?void 0:l.id,"aria-labelledby":(h=_(t.buttonRef))==null?void 0:h.id,id:d,onKeydown:c,onKeyup:u,role:"menu",tabIndex:0,ref:t.itemsRef};return Y({ourProps:i,theirProps:s,slot:v,attrs:n,slots:r,features:oe.RenderStrategy|oe.Static,visible:f.value,name:"MenuItems"})}}}),ee=j({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-menu-item-${ue()}`}},setup(e,{slots:n,attrs:r,expose:o}){let t=Q("MenuItem"),a=x(null);o({el:a,$el:a});let c=S(()=>t.activeItemIndex.value!==null?t.items.value[t.activeItemIndex.value].id===e.id:!1),u=Ot(a),g=S(()=>({disabled:e.disabled,get textValue(){return u()},domRef:a}));le(()=>t.registerItem(e.id,g)),He(()=>t.unregisterItem(e.id)),K(()=>{t.menuState.value===0&&c.value&&t.activationTrigger.value!==0&&L(()=>{var i,w;return(w=(i=_(a))==null?void 0:i.scrollIntoView)==null?void 0:w.call(i,{block:"nearest"})})});function f(i){if(e.disabled)return i.preventDefault();t.closeMenu(),Te(_(t.buttonRef))}function l(){if(e.disabled)return t.goToItem(T.Nothing);t.goToItem(T.Specific,e.id)}let h=It();function v(i){h.update(i)}function d(i){h.wasMoved(i)&&(e.disabled||c.value||t.goToItem(T.Specific,e.id,0))}function s(i){h.wasMoved(i)&&(e.disabled||c.value&&t.goToItem(T.Nothing))}return()=>{let{disabled:i}=e,w={active:c.value,disabled:i,close:t.closeMenu},{id:b,...I}=e;return Y({ourProps:{id:b,ref:a,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,disabled:void 0,onClick:f,onFocus:l,onPointerenter:v,onMouseenter:v,onPointermove:d,onMousemove:d,onPointerleave:s,onMouseleave:s},theirProps:{...r,...I},slot:w,attrs:r,slots:n,name:"MenuItem"})}}});const Gt={class:"mt-3 mb-1 text-xs font-bold"},Kt={class:"ml-1"},Vt=["onClick"],Ht={class:"flex items-center"},Wt=["onUpdate:modelValue","onKeypress"],qt={key:1,class:"flex-1 truncate max-w-48"},zt={key:0,class:"absolute z-10 right-2"},Zt={class:"py-1"},Yt=["onClick"],Qt=["onClick"],Xt=["onClick"],q=j({__name:"ListItem",props:{dataSources:null,title:null},emits:["update","delete","sticky","select"],setup(e,{emit:n}){const r=e,o=r.dataSources,t=se();async function a(d){n("select",d)}function c(d,s,i){i==null||i.stopPropagation(),d.isEdit=s}async function u(d,s){s==null||s.stopPropagation(),await t.updateGroupInfo({isSticky:!d.isSticky,groupId:d.uuid}),await t.queryMyGroup()}async function g(d,s){s==null||s.stopPropagation(),n("delete",d)}const f=tt(g,600);async function l(d){const{uuid:s,title:i}=d;d.isEdit=!1,await t.updateGroupInfo({groupId:s,title:i}),await t.queryMyGroup()}async function h(d,s){s==null||s.stopPropagation(),s.key==="Enter"&&l(d)}function v(d){return t.active===d}return(d,s)=>{var w;const i=ze("focus");return k(),D(z,null,[y("p",Gt,[Se(F(r.title)+" ",1),y("span",Kt,"("+F((w=m(o))==null?void 0:w.length)+")",1)]),(k(!0),D(z,null,We(m(o),b=>(k(),D("div",{key:`${b.uuid}`},[y("div",{class:H(["relative flex items-center gap-3 px-3 py-2 break-all rounded-md cursor-pointer hover:bg-gray-50 group dark:hover:bg-gray-800 font-medium text-sm",v(b.uuid)?["bg-gray-50","text-primary-600","dark:bg-gray-800","dark:text-white"]:["text-gray-700","dark:bg-gray-900","dark:text-gray-400"]]),onClick:I=>a(b)},[y("div",Ht,[b.isEdit?te((k(),D("input",{key:0,"onUpdate:modelValue":I=>b.title=I,type:"text",class:"bg-transparent border border-gray-200 dark:border-gray-400 px-1 shadow-none flex-1 truncate",onKeypress:I=>h(b,I)},null,40,Wt)),[[_e,b.title],[i]]):(k(),D("span",qt,F(b.title),1)),b.isEdit?(k(),R(m(nt),{key:2,class:"h-5 w-5 ml-2","aria-hidden":"true",onClick:I=>l(b)},null,8,["onClick"])):P("",!0)]),v(b.uuid)?(k(),D("div",zt,[b.isEdit?P("",!0):(k(),R(m(jt),{key:0,as:"div",class:"relative inline-block text-left"},{default:A(()=>[M(m(Bt),{class:"p-1"},{default:A(()=>[M(m(rt),{class:"h-5 w-5","aria-hidden":"true"})]),_:1}),M(qe,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:A(()=>[M(m(Ut),{class:"absolute right-0 z-10 mt-2 w-32 text-gray-700 dark:text-gray-400 origin-top-right text-b rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none bg-primary-100 dark:bg-gray-800"},{default:A(()=>[y("div",Zt,[M(m(ee),{as:"template"},{default:A(({active:I})=>[y("button",{class:H([I?"flex items-center bg-gray-100 dark:bg-gray-700 ":"flex items-center ","block w-full px-4 py-2 text-left text-sm"]),onClick:p=>c(b,!0,p)}," 重命名 ",10,Yt)]),_:2},1024),M(m(ee),{as:"template"},{default:A(({active:I})=>[y("button",{class:H([I?"flex items-end mr-3 bg-gray-100 dark:bg-gray-700":"flex items-end ","block w-full px-4 py-2 text-left text-sm"]),onClick:p=>u(b,p)}," 收藏对话 ",10,Qt)]),_:2},1024),M(m(ee),{as:"template"},{default:A(({active:I})=>[y("button",{class:H([I?"flex items-center bg-gray-100 dark:bg-gray-700":"flex items-center ","block w-full px-4 py-2 text-left text-sm"]),onClick:p=>m(f)(b,p)}," 删除对话 ",10,Xt)]),_:2},1024)])]),_:2},1024)]),_:2},1024)]),_:2},1024))])):P("",!0)],10,Vt)]))),128))],64)}}}),Jt={class:"flex flex-col gap-3 text-sm"},en={key:0,class:"flex flex-col items-center mt-4 text-center text-neutral-300"},tn=j({__name:"List",setup(e){const{isMobile:n}=Ie(),r=Ee(),o=Ze(),t=De(),a=se(),c=$e(),u=x(100),g=S(()=>a.groupList),f=S(()=>a.groupKeyWord);U(g,()=>u.value=u.value+1),U(f,()=>u.value=u.value+1),S(()=>c.isLogin);function l(p){const B=new Date(p).getTime()+8*60*60*1e3;return new Date(B).getTime()}const h=new Date().setHours(0,0,0,0),v=S(()=>g.value.filter(p=>f.value?p.title.includes(f.value)&&p.isSticky:p.isSticky)),d=S(()=>g.value.filter(p=>f.value?p.title.includes(f.value)&&!p.isSticky&&p.appId:!p.isSticky&&p.appId)),s=S(()=>g.value.filter(p=>f.value?p.title.includes(f.value)&&!p.isSticky&&!p.appId&&l(p.createdAt)>=h:!p.isSticky&&!p.appId&&l(p.createdAt)>=h)),i=S(()=>g.value.filter(p=>f.value?p.title.includes(f.value)&&!p.isSticky&&!p.appId&&l(p.createdAt)<h:!p.isSticky&&!p.appId&&l(p.createdAt)<h));async function w(p){const{uuid:N}=p;I(N)||(await a.setActiveGroup(N),o.name!=="Chat"&&r.push("/chat"),n.value&&t.setSiderCollapsed(!0))}async function b(p){event==null||event.stopPropagation(),await a.deleteGroup(p),await a.queryMyGroup(),n.value&&t.setSiderCollapsed(!0)}function I(p){return a.active===p}return le(()=>{a.queryMyGroup()}),(p,N)=>(k(),R(m(Ye),{class:"px-4"},{default:A(()=>[y("div",Jt,[m(g).length?(k(),D(z,{key:1},[m(v).length?(k(),R(q,{key:1e3+u.value,title:"收藏","data-sources":m(v),onSelect:w,onDelete:b},null,8,["data-sources"])):P("",!0),m(d).length?(k(),R(q,{key:2e3+u.value,title:"应用分类组","data-sources":m(d),onSelect:w,onDelete:b},null,8,["data-sources"])):P("",!0),m(s).length?(k(),R(q,{key:3e3+u.value,title:"今天","data-sources":m(s),onSelect:w,onDelete:b},null,8,["data-sources"])):P("",!0),m(i).length?(k(),R(q,{key:4e3+u.value,title:"其他","data-sources":m(i),onSelect:w,onDelete:b},null,8,["data-sources"])):P("",!0)],64)):(k(),D("div",en,[M(m(ne),{icon:"ri:inbox-line",class:"mb-2 text-3xl"}),y("span",null,F(p.$t("common.noData")),1)]))])]),_:1}))}}),nn={class:"flex flex-col h-full flex-1"},rn={class:"flex items-center space-x-2 bg-white dark:bg-gray-900 h-14 px-3 border-b border-t-gray-100 dark:border-b dark:border-b-gray-800 text-lg"},an={class:"flex-1 relative"},on={class:"flex-1 relative"},ln={class:"flex-1 min-h-0 overflow-hidden"},sn={class:"p-4 pb-1 pt-1 border-t border-t-gray-100 dark:border-t-gray-800 flex flex-col"},un={class:"flex justify-between my-3"},cn=y("span",null,"应用中心",-1),dn=y("span",null,"清空对话",-1),fn={type:"button",class:"inline-flex justify-center items-center rounded-md bg-white dark:bg-gray-900 px-3 py-2 text-sm text-gray-500 shadow-sm ring-1 ring-inset ring-gray-200 dark:ring-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800 w-full"},pn={type:"button",class:"inline-flex justify-center items-center rounded-md bg-white dark:bg-gray-900 px-3 py-2 text-sm text-gray-500 shadow-sm ring-1 ring-inset ring-gray-200 dark:ring-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800 w-full"},vn={key:0,class:"w-full flex justify-center items-center py-2 text-xs text-gray-500"},gn={class:"ml-2 transition-all text-gray-500 hover:text-gray-600 dark:hover:text-gray-400",href:"https://beian.miit.gov.cn",target:"_blank"},bn=j({__name:"index",setup(e){const n=Qe(),r=Ee(),o=De(),t=se(),a=$e(),c=x(null),u=x(null),g=S(()=>a.userBalance),f=Xe(),l=S(()=>a.globalConfig),h=S(()=>{var C,$;return((C=l.value)==null?void 0:C.companyName)&&(($=l.value)==null?void 0:$.filingNumber)}),v=S(()=>t==null?void 0:t.activeModelKeyDeductType),d=x(0),s=x(0),i=x(0),w=x(0),b=x(!1),I=x(null);U(()=>a.userBalance.useModel3Token,(C,$)=>{var O;d.value=$||0,s.value=C||0,(O=c.value)==null||O.play()},{immediate:!0,flush:"post"}),U(()=>a.userBalance.useModel4Token,(C,$)=>{var O;i.value=$||0,w.value=C||0,(O=u.value)==null||O.play()},{immediate:!0,flush:"post"});const{isMobile:p}=Ie(),N=x(!1),B=S(()=>o.siderCollapsed),V=x("");function Fe(C){const $=C.target.value;V.value=$,t.setGroupKeyWord($)}function Re(){b.value=!1}function Le(){r.push("/role")}async function je(){try{N.value=!0,await t.addNewChatGroup(),await t.queryMyGroup(),N.value=!1,p.value&&o.setSiderCollapsed(!0)}catch{N.value=!1}}async function Be(){f.warning({title:"清空对话",content:"清空所有非收藏的对话？",positiveText:"确认",negativeText:"取消",onPositiveClick:async()=>{await t.delAllGroup()}})}function pe(){o.setSiderCollapsed(!B.value)}const Ue=S(()=>p.value?{position:"fixed",zIndex:50}:{}),Ge=S(()=>p.value?{paddingBottom:"env(safe-area-inset-bottom)"}:{});return U(p,C=>{o.setSiderCollapsed(C)},{immediate:!0,flush:"post"}),(C,$)=>(k(),D("div",null,[M(m(et),{collapsed:m(B),"collapsed-width":0,width:260,"show-trigger":m(p)?!1:"arrow-circle","collapse-mode":"transform",position:"absolute",bordered:"",style:ge(m(Ue)),onUpdateCollapsed:pe},{default:A(()=>{var O,ve;return[y("div",{class:"flex flex-col h-full bg-white dark:bg-gray-900",style:ge(m(Ge))},[y("main",nn,[y("div",rn,[y("div",an,[y("div",on,[M(m(at),{class:"pointer-events-none absolute inset-y-0 left-0 h-full w-5 text-gray-400","aria-hidden":"true"}),te(y("input",{ref_key:"searchRef",ref:I,"onUpdate:modelValue":$[0]||($[0]=X=>V.value=X),type:"text",placeholder:"搜索历史对话",class:"block h-full w-full border-0 py-0 pl-8 pr-0 text-gray-700 placeholder:text-gray-400 sm:text-sm dark:bg-gray-900 dark:text-gray-400",onBlur:Re,onInput:Fe},null,544),[[_e,V.value]])])]),y("button",{type:"button",class:"rounded-md p-2 text-sm focus-visible:outline bg-white text-gray-400 dark:bg-gray-800",onClick:je},[M(m(ot),{class:"h-5 w-5","aria-hidden":"true"})])]),y("div",ln,[M(tn)]),y("div",sn,[y("div",un,[y("button",{type:"button",class:"inline-flex justify-center items-center rounded-md bg-white dark:bg-gray-900 px-3 py-2 text-sm text-gray-500 shadow-sm ring-1 ring-inset ring-gray-200 dark:ring-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800",onClick:Le},[M(m(ne),{icon:"ri:emoji-sticker-line",class:"ml-0 mr-3 text-sm"}),cn]),y("button",{type:"button",class:"inline-flex justify-center items-center rounded-md bg-white dark:bg-gray-900 px-3 py-2 text-sm text-gray-500 shadow-sm ring-1 ring-inset ring-gray-200 dark:ring-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800",onClick:Be},[M(m(ne),{icon:"mdi:notice-board",class:"ml-0 mr-3 text-sm"}),dn])]),m(v)===1?(k(),D("div",{key:0,onClick:$[1]||($[1]=X=>m(n).updateGoodsDialog(!0))},[y("button",fn,[y("span",null,"剩余： "+F(`${m(g).sumModel3Count||0} 普通积分`),1)])])):P("",!0),m(v)===2?(k(),D("div",{key:1,onClick:$[2]||($[2]=X=>m(n).updateGoodsDialog(!0))},[y("button",pn,[y("span",null,"剩余： "+F(`${m(g).sumModel4Count||0} 高级积分`),1)])])):P("",!0)]),m(h)?(k(),D("div",vn,[Se(" 版权所有 © "+F((O=m(l))==null?void 0:O.companyName)+" ",1),y("a",gn,F((ve=m(l))==null?void 0:ve.filingNumber),1)])):P("",!0)])],4)]}),_:1},8,["collapsed","show-trigger","style"]),m(p)?te((k(),D("div",{key:0,class:"fixed inset-0 z-40 bg-black/40",onClick:pe},null,512)),[[Je,!m(B)]]):P("",!0)]))}});export{jt as I,Ut as S,bn as _,ee as b,Bt as g};
